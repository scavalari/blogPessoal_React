{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ferre\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\blogPessoal_React\\\\src\\\\pages\\\\Login\\\\Login.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport './Login.css';\nimport { Grid, Box, Typography, TextField, Button } from '@material-ui/core';\nimport { Link, useHistory } from 'react-router-dom';\nimport { login } from '../../services/Service';\nimport { useDispatch } from 'react-redux';\nimport { addToken } from '../../store/tokens/action';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  let history = useHistory();\n  const [token, setToken] = useState('');\n  const dispatch = useDispatch();\n  const [userLogin, setUserLogin] = useState({\n    id: 0,\n    usuario: '',\n    senha: '',\n    token: ''\n  });\n\n  function updateModel(e) {\n    setUserLogin({ ...userLogin,\n      // chama-se spread operator, espalha todos os atributos existentes dentro de 'UserLogin'\n      [e.target.name]: e.target.value\n    });\n  }\n\n  useEffect(() => {\n    if (token !== '') {\n      dispatch(addToken(token));\n      history.push('/home');\n    }\n  }, [token]);\n\n  async function onSubmit(e) {\n    e.preventDefault();\n\n    try {\n      await login(`/usuario/logar`, userLogin, setToken);\n      toast.success('Usuário logado com sucesso', {\n        position: 'top-right',\n        autoClose: 3000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: false,\n        theme: 'colored',\n        progress: undefined\n      });\n    } catch (error) {\n      toast.error('Usuário e/ou senha incorretos. Tente novamente', {\n        position: 'top-right',\n        autoClose: 3000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: false,\n        draggable: false,\n        theme: 'colored',\n        progress: undefined\n      });\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    direction: \"row\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      alignItems: \"center\",\n      xs: 6,\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        paddingX: 20,\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: onSubmit,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            component: \"h3\",\n            align: \"center\",\n            className: \"textos1\",\n            children: \"Que bom te ver de novo :')\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            value: userLogin.usuario,\n            onChange: e => updateModel(e),\n            id: \"usuario\",\n            label: \"usu\\xE1rio\",\n            variant: \"outlined\",\n            name: \"usuario\",\n            margin: \"normal\",\n            fullWidth: true,\n            className: \"caixa\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            value: userLogin.senha,\n            onChange: e => updateModel(e),\n            id: \"senha\",\n            label: \"senha\",\n            variant: \"outlined\",\n            name: \"senha\",\n            margin: \"normal\",\n            type: \"password\",\n            fullWidth: true,\n            className: \"caixa\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            marginTop: 2,\n            textAlign: \"center\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              variant: \"contained\",\n              color: \"primary\",\n              children: \"Entrar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          justifyContent: \"center\",\n          marginTop: 2,\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            marginRight: 1,\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle1\",\n              gutterBottom: true,\n              align: \"center\",\n              children: \"Ainda n\\xE3o tem uma conta?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/cadastroUsuario\",\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle1\",\n              gutterBottom: true,\n              align: \"center\",\n              className: \"textos1\",\n              children: \"Cadastre-se\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      xs: 6,\n      className: \"imagem\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"9VWjsXc6mVLQ7h9Oh0YUJbR2kQM=\", false, function () {\n  return [useHistory, useDispatch];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/ferre/OneDrive/Área de Trabalho/blogPessoal_React/src/pages/Login/Login.tsx"],"names":["React","useState","useEffect","Grid","Box","Typography","TextField","Button","Link","useHistory","login","useDispatch","addToken","toast","Login","history","token","setToken","dispatch","userLogin","setUserLogin","id","usuario","senha","updateModel","e","target","name","value","push","onSubmit","preventDefault","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","theme","progress","undefined","error"],"mappings":"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","sourcesContent":["import React, { ChangeEvent, useState, useEffect } from 'react';\r\nimport './Login.css';\r\nimport {Grid, Box, Typography, TextField, Button} from '@material-ui/core';\r\nimport {Link, useHistory} from 'react-router-dom';\r\nimport { login } from '../../services/Service';\r\nimport UserLogin from '../../models/UserLogin';\r\nimport { useDispatch } from 'react-redux';\r\nimport { addToken } from '../../store/tokens/action';\r\nimport { toast } from 'react-toastify';\r\n\r\nfunction Login() {\r\n    let history = useHistory();\r\n    const [token, setToken] = useState('');\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const [userLogin, setUserLogin] = useState<UserLogin>({\r\n        id: 0,\r\n        usuario: '',\r\n        senha: '',\r\n        token: ''\r\n    })\r\n\r\n    function updateModel(e: ChangeEvent<HTMLInputElement>) {\r\n        setUserLogin({\r\n            ...userLogin, // chama-se spread operator, espalha todos os atributos existentes dentro de 'UserLogin'\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n        useEffect(() =>{\r\n            if(token !== ''){\r\n                dispatch(addToken(token))\r\n                history.push('/home')\r\n            }\r\n        }, [token])\r\n\r\n    async function onSubmit (e: ChangeEvent<HTMLFormElement>) {\r\n        e.preventDefault();\r\n        try{\r\n            await login(`/usuario/logar`, userLogin, setToken)\r\n            toast.success('Usuário logado com sucesso', {\r\n                position: 'top-right',\r\n                autoClose: 3000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: false,\r\n                theme: 'colored',\r\n                progress: undefined\r\n            });\r\n        }catch(error){\r\n            toast.error('Usuário e/ou senha incorretos. Tente novamente', {\r\n            position: 'top-right',\r\n            autoClose: 3000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: false,\r\n            draggable: false,\r\n            theme: 'colored',\r\n            progress: undefined\r\n            });\r\n\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <Grid container direction='row' justifyContent='center' alignItems='center'>\r\n            <Grid alignItems ='center' xs={6}>\r\n                <Box paddingX ={20}>\r\n                    <form onSubmit={ onSubmit }>\r\n                        <Typography variant='h5'  component='h3' align='center' className='textos1'>Que bom te ver de novo :')</Typography>\r\n                        <TextField\r\n                            value={ userLogin.usuario }\r\n                            onChange={ (e: ChangeEvent<HTMLInputElement>) => updateModel(e) }\r\n                            id='usuario'\r\n                            label='usuário'\r\n                            variant ='outlined'\r\n                            name='usuario'\r\n                            margin='normal'\r\n                            fullWidth\r\n                            className='caixa'\r\n                        />\r\n                        <TextField\r\n                            value={ userLogin.senha }\r\n                            onChange={ (e: ChangeEvent<HTMLInputElement>) => updateModel(e) }\r\n                            id='senha'\r\n                            label='senha'\r\n                            variant ='outlined'\r\n                            name='senha'\r\n                            margin='normal'\r\n                            type='password'\r\n                            fullWidth\r\n                            className='caixa'\r\n                        />\r\n                        <Box marginTop={2} textAlign='center'>\r\n\r\n                                <Button type='submit' variant='contained' color='primary'>\r\n                                    Entrar\r\n                                </Button>\r\n\r\n                        </Box>\r\n                    </form>\r\n                    <Box display='flex' justifyContent='center' marginTop={2}>\r\n                        <Box marginRight={1}>\r\n                            <Typography variant='subtitle1' gutterBottom align='center'>Ainda não tem uma conta?</Typography>\r\n                        </Box>\r\n                        <Link to='/cadastroUsuario'>\r\n                        <Typography variant='subtitle1' gutterBottom align='center' className='textos1'>Cadastre-se</Typography>\r\n                        </Link>\r\n\r\n                    </Box>\r\n                </Box>\r\n            </Grid>\r\n            <Grid xs={6} className='imagem'>\r\n\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}